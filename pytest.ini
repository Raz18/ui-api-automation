[pytest]
# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Marks (registered to avoid PytestUnknownMarkWarning)
markers =
    ui: UI tests using Playwright browser automation
    api: API tests using Playwright APIRequestContext

# Global options
addopts = --strict-markers --maxfail=1 --disable-warnings --html=reports/report.html --self-contained-html --log-cli-level=INFO -v

# Logging format
log_format = %(asctime)s | %(levelname)s | %(name)s | %(message)s
log_date_format = %Y-%m-%d %H:%M:%S

# Filter noisy warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::UserWarning

# HTML report settings (pytest-html)
render_collapsed = True

# Disable slow stdout capture to speed up Playwright logging
console_output_style = classic
